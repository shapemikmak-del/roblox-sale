<!doctype html>
<html lang="he" dir="rtl">
<head>
<meta charset="utf-8">
<title>פריטים למכירה 🚀</title>
<style>
  :root{
      --bg:#0b0b0f;
      --accent:#00f6ff;
      --glow: rgba(255,255,255,0.9);
    }
    *{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;}
    html,body{height:100%;margin:0;padding:20px;background:radial-gradient(1200px 500px at 10% 10%, rgba(2,8,23,0.7), transparent), linear-gradient(180deg,#071023 0%, #05060a 100%); color:white;}
    .app{max-width:1200px;margin:auto;display:flex;gap:20px;flex-wrap:wrap;}
    .list-container{flex:1;min-width:300px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:28px;box-shadow:0 10px 40px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);backdrop-filter: blur(6px);}
    h2{margin:0 0 18px 0;text-align:center;color:#0ff;text-shadow:0 0 10px #0ff,0 0 20px #0ff;}
    .input-wrap{display:flex;align-items:center;background:linear-gradient(145deg,#0f1620,#06080b);padding:8px;border-radius:999px;gap:8px;border:1px solid rgba(255,255,255,0.04);margin-bottom:18px;}
    input[type="text"]{border:0;outline:none;background:transparent;color:white;padding:10px 12px;font-size:16px;border-radius:12px;flex:1;}
    button.add-btn{width:44px;height:44px;border-radius:999px;border:0;cursor:pointer;display:grid;place-items:center;background:linear-gradient(180deg,#111827,#000);box-shadow:0 6px 18px rgba(0,0,0,0.6), 0 0 18px rgba(0,246,255,0.06);position:relative;overflow:hidden;color:white;font-weight:700;}
    button.add-btn:active{transform:translateY(1px);}
    .items{display:grid;grid-template-columns:repeat(2, 1fr);r;gap:14px;margin-top:0;}
    .item-card{position:relative;padding:18px;border-radius:14px;overflow:hidden;min-height:84px;display:flex;align-items:center;justify-content:space-between;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);box-shadow: 0 10px 30px rgba(0,0,0,0.6);}
    .item-card::before{content:"";position:absolute;inset:0;background:radial-gradient(400px 80px at 10% 10%, rgba(0,200,255,0.04), transparent 10%),radial-gradient(300px 100px at 90% 90%, rgba(80,0,255,0.03), transparent 10%),linear-gradient(120deg, rgba(255,255,255,0.02), rgba(0,0,0,0));z-index:0;mix-blend-mode:screen;opacity:1;pointer-events:none;filter:blur(12px);}
    .sparkles{position:absolute;inset:0;pointer-events:none;z-index:1;opacity:0.85;mix-blend-mode:screen;background-image:radial-gradient(circle at 10% 20%, rgba(255,255,255,0.9) 0px, rgba(255,255,255,0.0) 2px), radial-gradient(circle at 40% 60%, rgba(255,255,255,0.85) 0px, rgba(255,255,255,0.0) 2px), radial-gradient(circle at 80% 30%, rgba(255,255,255,0.75) 0px, rgba(255,255,255,0.0) 2px); background-size: 60% 60%, 80% 80%, 40% 40%; animation: shimmer 3.2s linear infinite; filter:blur(0.4px);}
    @keyframes shimmer{0%{transform:translateY(0) translateX(0) rotate(0)}50%{transform:translateY(-6px) translateX(6px) rotate(4deg)}100%{transform:translateY(0) translateX(0) rotate(0)}}
    .item-content{position:relative;z-index:2;display:flex;gap:12px;align-items:center;width:100%}
    .item-title{font-size:18px;font-weight:700;letter-spacing:0.6px;color:white;text-shadow:0 0 18px rgba(255,255,255,0.12), 0 0 28px rgba(0,246,255,0.06);flex:1}
    .item-title .glow{color:white;text-shadow:0 0 10px rgba(255,255,255,0.9),0 0 28px rgba(0,246,255,0.08);position:relative;display:inline-block}
    .actions{display:flex;gap:8px}
    .delete-btn,.edit-btn{border:0;background:transparent;color:rgba(255,255,255,0.85);cursor:pointer;padding:8px;border-radius:8px;font-weight:700}
    .delete-btn:hover,.edit-btn:hover{transform:translateY(-2px)}
    .flash-star{position:absolute;right:12px;top:12px;width:10px;height:10px;background:radial-gradient(circle at 30% 30%, #fff 0 20%, transparent 40%), linear-gradient(45deg,#fff,#aaf);transform:rotate(25deg);border-radius:2px;z-index:3;opacity:0;pointer-events:none}
    .flash-star.animate{animation:popstar 700ms ease forwards}
    @keyframes popstar{0%{transform:scale(0.2) translateY(0);opacity:0}50%{transform:scale(1.2) translateY(-8px);opacity:1}100%{transform:scale(1) translateY(-14px);opacity:0}}
    .empty{padding:36px;border-radius:12px;text-align:center;color:rgba(255,255,255,0.6);border:1px dashed rgba(255,255,255,0.03)}
  
/* === חללית/טיל הר געש === */
.overlay {
  position:fixed;inset:0;
  background:rgba(0,0,0,0.7);
  display:flex;align-items:flex-end;justify-content:center;
  z-index:999;opacity:0;pointer-events:none;
  transition:opacity 0.5s ease;
}
.overlay.active{opacity:1;pointer-events:auto;}

.rocket-box{
  width:80px;height:160px;
  background:linear-gradient(180deg,#222,#000);
  border:2px solid #ff4500;
  border-radius:40px 40px 10px 10px;
  display:flex;align-items:center;justify-content:center;
  position:relative;
  box-shadow:0 0 40px #ff4500;
}

.rocket-text{
  position:absolute;
  top:-30px;
  width:100%;
  text-align:center;
  font-size:14px;
  font-weight:bold;
  color:#fff;
  text-shadow:0 0 8px #ff4500;
}

.flame {
  position:absolute;
  bottom:-60px;
  left:50%;
  transform:translateX(-50%);
  width:40px;
  height:80px;
  background: radial-gradient(circle at top, #fff200, #ff8000, #ff0000);
  border-radius:50%;
  filter:blur(8px);
  animation:flameAnim 0.3s infinite alternate;
  z-index:-1;
}

@keyframes flameAnim {
  0%{height:50px;opacity:0.7;}
  100%{height:90px;opacity:1;}
}

@keyframes launch{
  0%{transform:translateY(0) scale(1);}
  100%{transform:translateY(-120vh) scale(0.8);}
}

/* === אנימציית נמכר === */
.item-card.sold {animation: soldAnim 2s forwards;}
.item-card .fire {
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  width: 30px;
  height: 50px;
  background: radial-gradient(circle at top, #fff200,#ff8000,#ff0000);
  border-radius: 50%;
  filter: blur(6px);
  animation: fireAnim 0.3s infinite alternate;
  pointer-events:none;
}

@keyframes soldAnim{
  0%{transform:scale(1) rotate(0deg); opacity:1;}
  50%{transform:scale(1.1) rotate(5deg); opacity:0.8;}
  100%{transform:scale(0.8) rotate(-10deg); opacity:0;}
}

@keyframes fireAnim{
  0%{height:30px;opacity:0.7;}
  100%{height:60px;opacity:1;}
}
</style>
</head>
<body>
<div class="app">
  <div class="list-container">
    <h2>פריטים מתחת ל-100 ₪</h2>
    <div class="input-wrap">
      <input id="normalInput" type="text" placeholder="הכנס שם רגיל...">
      <button id="normalAdd" class="add-btn">+</button>
    </div>
    <div class="items" id="normalItems"></div>
  </div>

  <div class="list-container">
    <h2>פריטים מעל 100 ₪</h2>
    <div class="input-wrap">
      <input id="specialInput" type="text" placeholder="הכנס שם מיוחד...">
      <button id="specialAdd" class="add-btn">+</button>
    </div>
    <div class="items" id="specialItems"></div>
  </div>
</div>

<!-- טיל הר געש -->
<div class="overlay" id="overlay">
  <div class="rocket-box" id="rocket">
    <div class="rocket-text" id="rocketText"></div>
    <div class="flame"></div>
  </div>
</div>

 <template id="itemTemplate">
    <div class="item-card">
      <div class="sparkles"></div>
      <div class="item-content">
        <div class="item-title"><span class="glow"></span></div>
        <div class="actions">
          <button class="edit-btn">✎</button>
          <button class="delete-btn">🗑</button>
        </div>
      </div>
      <div class="flash-star"></div>
    </div>
  </template>

<script>
function saveItems(key, items){ localStorage.setItem(key, JSON.stringify(items)); }
function loadItems(key){ return JSON.parse(localStorage.getItem(key)||"[]"); }

function renderItems(containerId, storageKey){
  const container=document.getElementById(containerId);
  container.innerHTML="";
  const items=loadItems(storageKey);
  if(items.length===0){
    const empty=document.createElement("div");
    empty.className="empty"; empty.textContent="אין פריטים";
    container.appendChild(empty);
  }
  items.forEach((text,index)=>{
    const node=document.getElementById("itemTemplate").content.firstElementChild.cloneNode(true);
    node.querySelector(".item-title").textContent=text;
    node.querySelector(".edit-btn").onclick=()=>{
      const newName=prompt("ערוך את השם:",text);
      if(newName){ items[index]=newName; saveItems(storageKey,items); renderItems(containerId,storageKey); }
    };
    node.querySelector(".delete-btn").onclick=()=>{ 
      launchItem(text,()=>{ 
        items.splice(index,1); 
        saveItems(storageKey,items); 
        renderItems(containerId,storageKey); 
      });
    };
    container.appendChild(node);
  });
}

function setup(inputId, btnId, containerId, storageKey){
  const input=document.getElementById(inputId);
  document.getElementById(btnId).onclick=()=>{
    const val=input.value.trim();
    if(!val) return input.focus();
    const items=loadItems(storageKey);
    items.push(val);
    saveItems(storageKey,items);
    input.value="";
    renderItems(containerId,storageKey);
  };
  input.addEventListener("keydown",(e)=>{if(e.key==="Enter") document.getElementById(btnId).click();});
  renderItems(containerId,storageKey);
}

setup("normalInput","normalAdd","normalItems","normal");
setup("specialInput","specialAdd","specialItems","special");

let isLaunching = false;

function launchItem(text, cb){
  if(isLaunching) return;
  isLaunching = true;

  const overlay = document.getElementById("overlay");
  const rocket = document.getElementById("rocket");
  const itemCards = [...document.querySelectorAll(".item-card")];

  // סמן את הכרטיס כ"נמכר" והוסף להבה
  const card = itemCards.find(c => c.querySelector(".item-title").textContent === text);
  if(card){
    card.classList.add("sold");
    const fire = document.createElement("div");
    fire.className = "fire";
    card.appendChild(fire);
  }

  // הצגת הטיל
  document.getElementById("rocketText").textContent = text;
  overlay.classList.add("active");

  setTimeout(()=>{
    rocket.style.animation="launch 3s forwards ease-in";
    setTimeout(()=>{
      overlay.classList.remove("active");
      rocket.style.animation="";
      cb(); // מחיקת הפריט
      isLaunching = false;
    },3000);
  },500); // מתחיל מיד
}
</script>
</body>
</html>

